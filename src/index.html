<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> Genesys CTI Mockup Server for Testing</title>
</head>

<body>
  <div>
    EventId: <input type="text" name="eventId" id="eventId" value="054512" />
    Phone Number : <input type="text" name="phoneNumber" id="phoneNumber" value="+19256947326" />
	Queue Name : <input type="text" name="queueName" id="queueName" value="Cerner_Health" />
    <button onclick="makeCall()">make Call</button>
    <button onclick="acceptCall()">Accept Call</button>
	  <button onclick="closeEvent()">Close Call</button>
  </div>
</body>
<script>
  function makeCall() {
    const url = "https://genesysmockup-production.up.railway.app/genesys/events";
    const message = {
      type: 'ring'
    };
    message.eventId = document.getElementById('eventId').value;
    message.connectionId = document.getElementById('eventId').value;
    message.ANI = document.getElementById('phoneNumber').value;
   message.queueName = document.getElementById('queueName').value;

    fetch(url, {
      method: 'POST',
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(message)
    })
  }

  
  function acceptCall() 
  {
    const url = "https://genesysmockup-production.up.railway.app/genesys/events";
    const message = {
      type: 'makeCall'
    };
    message.eventId = document.getElementById('eventId').value;
    message.connectionId = document.getElementById('eventId').value;
    message.ANI = document.getElementById('phoneNumber').value;
     message.queueName = document.getElementById('queueName').value;
    fetch(url, {
      method: 'POST',
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(message)
    })
  }
  
    
  function closeEvent() 
  {
    const url = "https://genesysmockup-production.up.railway.app/genesys/events";
    const message = {
      type: 'Reject'
    };
    message.eventId = document.getElementById('eventId').value;
    message.connectionId = document.getElementById('eventId').value;
    message.ANI = document.getElementById('phoneNumber').value;
      message.queueName = document.getElementById('queueName').value;

    fetch(url, {
      method: 'POST',
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(message)
    })
  }
</script>

</html>
